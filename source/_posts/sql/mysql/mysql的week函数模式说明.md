
---
title: mysql的week函数模式说明
date: 2018-03-07 18:29:44
tags: mysql
categories: 数据库
---

## WEEK函数的官方定义
| Mode | First day of week | Range | Week 1 is the first week ...    |
|------|-------------------|-------|---------------------------------|
| 0    | Sunday            | 0-53  | with a Sunday in this year      |
| 1    | Monday            | 0-53  | with more than 3 days this year |
| 2    | Sunday            | 1-53  | with a Sunday in this year      |
| 3    | Monday            | 1-53  | with more than 3 days this year |
| 4    | Sunday            | 0-53  | with more than 3 days this year |
| 5    | Monday            | 0-53  | with a Monday in this year      |
| 6    | Sunday            | 1-53  | with more than 3 days this year |
| 7    | Monday            | 1-53  | with a Monday in this year      |

- 使用 :  `select week(date,3)`
- 拿`Mode 3`来说明，周的第一天是星期一,周数只会出现1-53的范围。举例：

>  如果 1 月 1 日是周一、 周二、 周三或周四，就是今年的 第1周。  
如果 1 月 1 日是周五，周六或周日，就是前一年的 第52 或 53 周。

- **`a_date` 国内日期表用的是`Mode 3`**
- **`a_date_foreign` 国外日期表用的是 `Mode 6`**


| date       | 星期几 | Mode 1 | Mode 2 | Mode 3 | Mode 4 | Mode 5 | Mode 6 | Mode 7 |
|------------|---------|--------------|--------------|--------------|--------------|--------------|--------------|--------------|
| 2015-01-01 |       4 |            1 |           52 |            1 |            0 |            0 |           53 |           52 |
| 2015-01-02 |       5 |            1 |           52 |            1 |            0 |            0 |           53 |           52 |
| 2015-01-03 |       6 |            1 |           52 |            1 |            0 |            0 |           53 |           52 |
| 2015-01-04 |       7 |            1 |            1 |            1 |            1 |            0 |            1 |           52 |
| 2015-12-28 |       1 |           53 |           52 |           53 |           52 |           52 |           52 |           52 |
| 2015-12-29 |       2 |           53 |           52 |           53 |           52 |           52 |           52 |           52 |
| 2015-12-30 |       3 |           53 |           52 |           53 |           52 |           52 |           52 |           52 |
| 2015-12-31 |       4 |           53 |           52 |           53 |           52 |           52 |           52 |           52 |
| 2016-01-01 |       5 |            0 |           52 |           53 |            0 |            0 |           52 |           52 |
| 2016-01-02 |       6 |            0 |           52 |           53 |            0 |            0 |           52 |           52 |
| 2016-01-03 |       7 |            0 |            1 |           53 |            1 |            0 |            1 |           52 |
| 2016-01-10 |       7 |            1 |            2 |            1 |            2 |            1 |            2 |            1 |
| 2017-01-01 |       7 |            0 |            1 |           52 |            1 |            0 |            1 |           52 |
| 2017-01-08 |       7 |            1 |            2 |            1 |            2 |            1 |            2 |            1 |
| 2018-01-01 |       1 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-02 |       2 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-03 |       3 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-04 |       4 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-05 |       5 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-06 |       6 |            1 |           53 |            1 |            1 |            1 |            1 |            1 |
| 2018-01-07 |       7 |            1 |            1 |            1 |            2 |            1 |            2 |            1 |
| 2018-12-31 |       1 |           53 |           52 |            1 |           53 |           53 |            1 |           53 |
| 2019-01-01 |       2 |            1 |           52 |            1 |            1 |            0 |            1 |           53 |
| 2019-01-02 |       3 |            1 |           52 |            1 |            1 |            0 |            1 |           53 |
| 2019-01-03 |       4 |            1 |           52 |            1 |            1 |            0 |            1 |           53 |
| 2019-01-04 |       5 |            1 |           52 |            1 |            1 |            0 |            1 |           53 |
| 2019-01-05 |       6 |            1 |           52 |            1 |            1 |            0 |            1 |           53 |
| 2019-01-06 |       7 |            1 |            1 |            1 |            2 |            0 |            2 |           53 |
| 2019-12-30 |       1 |           53 |           52 |            1 |           53 |           52 |            1 |           52 |
| 2019-12-31 |       2 |           53 |           52 |            1 |           53 |           52 |            1 |           52 |
| 2020-01-01 |       3 |            1 |           52 |            1 |            1 |            0 |            1 |           52 |
| 2020-01-02 |       4 |            1 |           52 |            1 |            1 |            0 |            1 |           52 |
| 2020-01-03 |       5 |            1 |           52 |            1 |            1 |            0 |            1 |           52 |
| 2020-01-04 |       6 |            1 |           52 |            1 |            1 |            0 |            1 |           52 |
| 2020-01-05 |       7 |            1 |            1 |            1 |            2 |            0 |            2 |           52 |
| 2020-12-28 |       1 |           53 |           52 |           53 |           53 |           52 |           53 |           52 |
| 2020-12-29 |       2 |           53 |           52 |           53 |           53 |           52 |           53 |           52 |
| 2020-12-30 |       3 |           53 |           52 |           53 |           53 |           52 |           53 |           52 |
| 2020-12-31 |       4 |           53 |           52 |           53 |           53 |           52 |           53 |           52 |
| 2021-01-01 |       5 |            0 |           52 |           53 |            0 |            0 |           53 |           52 |
| 2021-01-02 |       6 |            0 |           52 |           53 |            0 |            0 |           53 |           52 |
| 2021-01-03 |       7 |            0 |            1 |           53 |            1 |            0 |            1 |           52 |
| 2021-01-10 |       7 |            1 |            2 |            1 |            2 |            1 |            2 |            1 |
